<div class="task-item">
  <div class="header">
    <p id="task-title">{{ task().title }}</p>
    <div>
      <p-dialog header="Delete task" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
        <p>Are you sure you want to delete this task?</p>
        <div class="flex justify-end gap-2">
            <button label="Cancel" severity="secondary" (click)="deleteTask()">Delete</button>
            <button label="Save" (click)="visible = false">Cancel</button>
        </div>
      </p-dialog>
      <button (click)="visible = true">Delete</button>
    </div>
    <button (click)="selected = !selected">. . .</button>
  </div>
  <div [hidden]="!selected" class="body">
    <div>
      <i class="pi pi-calendar"></i>
      <p *ngIf="task().date">{{ task().date.split("T")[0] }}</p>
    </div>
    <div>
      <i class="pi pi-list"></i>
      <p *ngIf="task().list_id">{{ list_title() }}</p>
    </div>
    <div *ngIf="subtaskCount()">
      <span class="subtasks-length">{{ subtaskCount() }}</span>
      <p>Subtasks</p>
    </div>
  </div>
</div>
